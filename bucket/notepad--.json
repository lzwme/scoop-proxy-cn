{
  "version": "2.7.0",
  "description": "Notepad-- is a text editor written in C++ that works seamlessly on Windows, Linux and Mac platforms.",
  "homepage": "https://gitee.com/cxasm/notepad--",
  "license": "GPL-3.0-or-later",
  "notes": "Add Notepad-- as a context menu option by running: reg import \"$dir\\install-context.reg\"",
  "architecture": {
    "64bit": {
      "url": "https://gitee.com/cxasm/notepad--/releases/download/v2.7/Notepad--v2.7.0-win10-portable.zip",
      "hash": "d547e1e9cbe6bc49d7b2c34c9d4ceab68c5508477a515edd5a0ee9bf6e51a706",
      "pre_install": [
        "Move-Item \"$dir\\Notepad--v$version-win10-portable\\*\" \"$dir\"",
        "Remove-Item \"$dir\\Notepad--v$version-win10-portable\" -Force -Recurse"
      ]
    }
  },
  "bin": "Notepad--.exe",
  "shortcuts": [
    [
      "Notepad--.exe",
      "Notepad--"
    ]
  ],
  "post_install": [
    "'install-context', 'uninstall-context' | ForEach-Object {",
    "    if (Test-Path \"$bucketsdir\\$bucket\\scripts\\notepad--\\$_.reg\") {",
    "        $nddPath = \"$dir\\notepad--.exe\".Replace('\\', '\\\\')",
    "        $content = (Get-Content \"$bucketsdir\\$bucket\\scripts\\notepad--\\$_.reg\").Replace('$ndd', $nddPath)",
    "        if ($global) { $content = $content.Replace('HKEY_CURRENT_USER', 'HKEY_LOCAL_MACHINE') }",
    "        Set-Content \"$dir\\$_.reg\" $content -Encoding Ascii -Force",
    "    }",
    "}"
  ],
  "uninstaller": {
    "script": [
      "if ($cmd -eq 'uninstall') {",
      "    reg import \"$dir\\uninstall-context.reg\"",
      "}"
    ]
  },
  "checkver": {
    "url": "https://gitee.com/cxasm/notepad--/releases",
    "regex": "/download/v(?<major>[\\d.]+)/Notepad--v([\\d.]+)-win10-portable.zip"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://gitee.com/cxasm/notepad--/releases/download/v$matchMajor/Notepad--v$version-win10-portable.zip"
      }
    }
  }
}