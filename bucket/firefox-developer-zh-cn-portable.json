{
  "version": "137.0b4",
  "description": "Developer. Developer builds of Firefox: the popular open source web browser",
  "homepage": "https://www.mozilla.org/zh-CN/firefox/developer/",
  "license": "MPL-2.0",
  "changelog": "https://www.mozilla.org/en-US/firefox/104.0beta/releasenotes/",
  "architecture": {
    "64bit": {
      "url": "https://download-installer.cdn.mozilla.net/pub/devedition/releases/137.0b4/win64/zh-CN/Firefox%20Setup%20137.0b4.exe#/firefox-developer.7z",
      "hash": "sha512:808d0d6bf1afa87ff07b15e4133dd964ded36a8e75b0f6d41c83325362125273b4efb99f0fb2f756d83dd623875e3bba4ea60d5e69f36e16d317d3030715a74d"
    },
    "32bit": {
      "url": "https://download-installer.cdn.mozilla.net/pub/devedition/releases/137.0b4/win32/zh-CN/Firefox%20Setup%20137.0b4.exe#/firefox-developer.7z",
      "hash": "sha512:b485c063342126c05a7c8e16760d8030e2c7d39053d67384bc07221d58a7b733abd32e92c973e3a9905af5af4cd47595c1f7ed38730b0aa8ea3bc2e85fc7474d"
    }
  },
  "extract_dir": "core",
  "bin": [
    [
      "firefox.exe",
      "firefox-dev"
    ],
    [
      "firefox.exe",
      "firefox-developer"
    ]
  ],
  "shortcuts": [
    [
      "firefox.exe",
      "Firefox Developer"
    ],
    [
      "firefox.exe",
      "Firefox Developer Profile Manager",
      "-P"
    ]
  ],
  "post_install": [
    "function Create-Junction { param ([string]$runtimeCache, [string]$runtimeCachePersist)",
    "  if (-not (Test-Path $runtimeCache)) { return }",
    "  if (Test-Path $runtimeCachePersist) {",
    "    Remove-Item $runtimeCache -Force -Recurse -ErrorAction SilentlyContinue",
    "    New-Item -Type Junction -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
    "  } else {",
    "    mkdir $runtimeCache -ErrorAction SilentlyContinue",
    "    Move-Item $runtimeCache $runtimeCachePersist -Force",
    "    New-Item -Type Junction -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
    "  }",
    "}",
    "foreach ($folder in @('Mozilla/Firefox')) {",
    "  Create-Junction -runtimeCache \"$env:USERPROFILE\\$folder\" -runtimeCachePersist \"$persist_dir\\USERPROFILE\\$folder\"",
    "  Create-Junction -runtimeCache \"$env:LOCALAPPDATA\\$folder\" -runtimeCachePersist \"$persist_dir\\LOCALAPPDATA\\$folder\"",
    "  Create-Junction -runtimeCache \"$env:APPDATA\\$folder\" -runtimeCachePersist \"$persist_dir\\APPDATA\\$folder\"",
    "}"
  ],
  "checkver": {
    "url": "https://aus5.mozilla.org/update/6/Firefox/93.0/_/WINNT_x86_64-msvc-x64/zh-CN/aurora/_/_/_/_/update.xml",
    "xpath": "/updates/update/patch/@URL",
    "regex": "devedition-([\\db.]+)-"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://download-installer.cdn.mozilla.net/pub/devedition/releases/$version/win64/zh-CN/Firefox%20Setup%20$version.exe#/firefox-developer.7z",
        "hash": {
          "url": "https://download-installer.cdn.mozilla.net/pub/devedition/releases/$version/SHA512SUMS",
          "regex": "$sha512\\s+win64/zh-CN/$basename"
        }
      },
      "32bit": {
        "url": "https://download-installer.cdn.mozilla.net/pub/devedition/releases/$version/win32/zh-CN/Firefox%20Setup%20$version.exe#/firefox-developer.7z",
        "hash": {
          "url": "https://download-installer.cdn.mozilla.net/pub/devedition/releases/$version/SHA512SUMS",
          "regex": "$sha512\\s+win32/zh-CN/$basename"
        }
      }
    }
  }
}