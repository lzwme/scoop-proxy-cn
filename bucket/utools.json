{
  "description": "",
  "homepage": "https://u.tools",
  "license": "",
  "version": "4.1.0",
  "notes": "",
  "architecture": {
    "64bit": {
      "url": "https://res.u-tools.cn/version2/uTools-4.1.0.exe#/dl.7z",
      "hash": "39a6c3d52c35b4288858ea8ca43342b74bf6ffb735f71d059364c72c5859e672",
      "installer": {
        "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-64.7z\" \"$dir\""
      }
    },
    "32bit": {
      "url": "https://res.u-tools.cn/version2/uTools-4.1.0-ia32.exe#/dl.7z",
      "hash": "6f56ce1fb31c409cb4b626dd67fd360f4591ed50c38decd830fa64aa5e5b177c",
      "installer": {
        "script": [
          "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-32.7z\" \"$dir\"",
          "Remove-Item \"$dir\\`$PLUGINSDIR\", \"$dir\\`$R0\" -Recurse -Force"
        ]
      }
    }
  },
  "pre_install": "",
  "post_install": [
    "Remove-Item -Recurse -Force \"$dir\\`$PLUGINSDIR\"",
    "$runtimeCache = \"$env:APPDATA\\uTools\"",
    "$runtimeCachePersist = \"$persist_dir\\data\"",
    "if (Test-Path $runtimeCachePersist) {",
    "    Remove-Item $runtimeCache -Force -Recurse -ErrorAction SilentlyContinue",
    "    New-Item -Type SymbolicLink -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
    "} else {",
    "    if (Test-Path $runtimeCache) {",
    "        Move-Item $runtimeCache $runtimeCachePersist -Force",
    "        New-Item -Type SymbolicLink -Path $runtimeCache -Target $runtimeCachePersist | Out-Null",
    "    }",
    "}"
  ],
  "uninstaller": {
    "script": [
      "$runtimeCache = \"$env:APPDATA\\uTools\"",
      "$runtimeCachePersist = \"$persist_dir\\data\"",
      "$tmp = \"$dir\\tmp\"",
      "New-Item -Type SymbolicLink -Path $runtimeCache -Target $tmp -Force | Out-Null",
      "Remove-Item $runtimeCache -Recurse -Force | Out-Null",
      "Remove-Item $tmp -Recurse -Force | Out-Null"
    ]
  },
  "shortcuts": [
    [
      "utools.exe",
      "uTools"
    ]
  ],
  "env_add_path": [
    "",
    ""
  ],
  "persist": "data",
  "checkver": {
    "url": "https://u.tools",
    "regex": "version: 'V(\\d\\.\\d\\.\\d)'"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://res.u-tools.cn/version2/uTools-$version.exe#/dl.7z"
      },
      "32bit": {
        "url": "https://res.u-tools.cn/version2/uTools-$version-ia32.exe#/dl.7z"
      }
    }
  }
}