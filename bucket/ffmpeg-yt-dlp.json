{
  "version": "7.1.1-4-20250318",
  "description": "FFMpeg builds of latest release branch with patches necessary for smooth integration with yt-dlp",
  "homepage": "https://github.com/yt-dlp/FFmpeg-Builds",
  "license": "MIT",
  "suggest": {
    "yt-dlp": "yt-dlp"
  },
  "architecture": {
    "64bit": {
      "url": "https://github.com/yt-dlp/FFmpeg-Builds/releases/download/autobuild-2025-03-18-14-20/ffmpeg-n7.1.1-4-gdca3b4760f-win64-gpl-7.1.zip",
      "hash": "11f19541a8d5138d61f6e41625d1f2fa4734974afd89cacabb29c71079c6a150",
      "extract_dir": "ffmpeg-n7.1.1-4-gdca3b4760f-win64-gpl-7.1"
    },
    "32bit": {
      "url": "https://github.com/yt-dlp/FFmpeg-Builds/releases/download/autobuild-2025-03-18-14-20/ffmpeg-n7.1.1-4-gdca3b4760f-win32-gpl-7.1.zip",
      "hash": "892f814e1ad53259fb0c8a43cd0a2f6831cd64edcce51b6e6e90af847a26e1a7",
      "extract_dir": "ffmpeg-n7.1.1-4-gdca3b4760f-win32-gpl-7.1"
    }
  },
  "bin": [
    "bin\\ffmpeg.exe",
    "bin\\ffplay.exe",
    "bin\\ffprobe.exe"
  ],
  "checkver": {
    "script": [
      "# 32-bit file is either listed above or below the 64-bit one. Therefore we need a checkver script to match it.",
      "$url = 'https://api.github.com/repositories/377430603/releases'",
      "$regex_64bit = 'autobuild-(?<buildtime>(?<builddate>\\d{4}-\\d{2}-\\d{2})-\\d{2}-\\d{2})/(?<filename>ffmpeg-n(?<ffmpegver>[\\d.-]+)-\\w+-win64-gpl-[\\d.]+)\\.zip'",
      "$regex_32bit = $regex_64bit.replace('win64', 'win32')",
      "$cont = $(Invoke-WebRequest($url)).Content | ConvertFrom-Json",
      "$file_urls = @()",
      "$cont[1].assets | ForEach-Object { $file_urls += $_.browser_download_url }",
      "$file_urls | ForEach-Object {",
      "    if ($_ -match $regex_64bit) {",
      "        $ffmpegver = $matches.ffmpegver",
      "        $buildtime = $matches.buildtime",
      "        $builddate = $matches.builddate.Replace('-', '')",
      "        $filename64bit = $matches.filename",
      "    } elseif ($_ -match $regex_32bit) { $filename32bit = $matches.filename }",
      "}",
      "Write-Output $ffmpegver-$builddate $buildtime $filename64bit $filename32bit"
    ],
    "regex": "([\\w.-]+) (?<buildtime>[\\w.-]+) (?<filename64bit>[\\w.-]+) (?<filename32bit>[\\w.-]+)"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://github.com/yt-dlp/FFmpeg-Builds/releases/download/autobuild-$matchBuildtime/$matchFilename64bit.zip",
        "extract_dir": "$matchFilename64bit"
      },
      "32bit": {
        "url": "https://github.com/yt-dlp/FFmpeg-Builds/releases/download/autobuild-$matchBuildtime/$matchFilename32bit.zip",
        "extract_dir": "$matchFilename32bit"
      }
    }
  }
}